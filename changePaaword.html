<!DOCTYPE html>
<!-- Created by CodingLab |www.youtube.com/CodingLabYT-->
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8" />
    <!--<title> Drop Down Sidebar Menu | CodingLab </title>-->
    <link rel="stylesheet" href="style/index.css" />
    <!-- Boxiocns CDN Link -->
    <link
      href="https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css"
      rel="stylesheet"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://kit.fontawesome.com/b99e675b6e.js"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script>
      $(document).ready(function () {
        $(".profile .icon_wrap").click(function () {
          $(this).parent().toggleClass("active");
          $(".notifications").removeClass("active");
        });

        $(".notifications .icon_wrap").click(function () {
          $(this).parent().toggleClass("active");
          $(".profile").removeClass("active");
        });

        $(".show_all .link").click(function () {
          $(".notifications").removeClass("active");
          $(".popup").show();
        });

        $(".close").click(function () {
          $(".popup").hide();
        });
      });
    </script>
  </head>
  <body>
    <div class="sidebar close">
      <div class="logo-details">
        <i class="bx bxl-c-plus-plus"></i>
        <span class="logo_name">HighLAnder</span>
      </div>
      <ul class="nav-links">
        <li>
          <div class="iocn-link">
            <a href="#">
              <i class="bx bx-grid-alt"></i>
              <span class="link_name">Home</span>
            </a>
            <i class="bx bxs-chevron-down arrow"></i>
          </div>
          <ul class="sub-menu">
            <li><a class="link_name" href="#">Home</a></li>
            <li><a href="dashboard.html">Dashboard</a></li>
          </ul>
        </li>
        <li>
          <div class="iocn-link">
            <a href="#">
              <i class="bx bx-collection"></i>
              <span class="link_name">Human Resources</span>
            </a>
            <i class="bx bxs-chevron-down arrow"></i>
          </div>
          <ul class="sub-menu">
            <li><a class="link_name" href="#">Human Resources</a></li>
            <li><a href="complain.html">HR Complaint</a></li>
            <li><a href="rule.html">Rules And Regulation</a></li>
            <li><a href="calander.html">Calender</a></li>
          </ul>
        </li>
        <li>
          <div class="iocn-link">
            <a href="#">
              <i class="bx bx-book-alt"></i>
              <span class="link_name">Staff Tour</span>
            </a>
            <i class="bx bxs-chevron-down arrow"></i>
          </div>
          <ul class="sub-menu">
            <li><a class="link_name" href="#">Staff Tour</a></li>
            <li><a href="travel.html">Travel Authorization</a></li>
            <li><a href="status.html">Travel Status</a></li>
          </ul>
        </li>
        <li>
          <div class="iocn-link">
            <a href="#">
              <i class="bx bx-pie-chart-alt-2"></i>
              <span class="link_name">Staff Service</span>
            </a>
            <i class="bx bxs-chevron-down arrow"></i>
          </div>
          <ul class="sub-menu">
            <li><a class="link_name" href="#">Staff Service</a></li>
            <li><a href="leave.html">Leave Application</a></li>
            <li><a href="promotion.html">Promotion</a></li>
            <li><a href="resignation.html">Resignation</a></li>
            <li><a href="publication.html">Publication</a></li>
          </ul>
        </li>
        <li>
          <div class="iocn-link">
            <a href="#">
              <i class="bx bx-grid-alt"></i>
              <span class="link_name">Inventory And Property</span>
            </a>
            <i class="bx bxs-chevron-down arrow"></i>
          </div>
          <ul class="sub-menu">
            <li><a class="link_name" href="#">Inventory And Property</a></li>
            <li><a href="reservation.html">Reservation</a></li>
            <li><a href="orders.html">Orders</a></li>
            <li><a href="feedback.html">Feedback</a></li>
          </ul>
        </li>
      
        <li>
          <a href="#">
            <i class="bx bx-cog"></i>
            <span class="link_name">Setting</span>
          </a>
          <ul class="sub-menu blank">
            <li><a class="link_name" href="#">Setting</a></li>
          </ul>
        </li>
        <li>
          <div class="profile-details">
            <div class="profile-content">
              <img src="style/profile_pic.png" alt="profileImg" />
            </div>
            <div class="name-job">
              <div class="profile_name">Kunzang</div>
              <div class="job">Web Desginer</div>
            </div>
            <i class="bx bx-log-out"></i>
          </div>
        </li>
      </ul>
    </div>
    <section class="home-section">
      <div class="home-content">
        <i class="bx bx-menu"></i>
        <span class="text"></span>
        <div class="wrapper">
          <div class="navbar">
            <div class="navbar_left">
              <div class="logo">
                <a href="#">HighLAnder</a>
              </div>
            </div>

            <div class="navbar_right">
              <div class="notifications">
                <!-- <div class="icon_wrap"><i class="far fa-bell"></i></div> -->
                <a class="icon_wrap" href="profile.html#timeline">
                  <i class="far fa-bell"></i
                ></a>
              </div>
              <div class="profile">
                <div class="icon_wrap">
                  <img src="style/profile_pic.png" alt="profile_pic" />
                  <span class="name">Kunzang Rada</span>
                  <i class="fas fa-chevron-down"></i>
                </div>
                <div class="profile_dd">
                  <ul class="profile_ul">
                    <li class="profile_li">
                      <a class="profile" href="profile.html"
                        ><span class="picon"
                          ><i class="fas fa-user-alt"></i> </span
                        >Profile</a
                      >
                      <!-- <div class="btn">My Account</div> -->
                    </li>
                    <li>
                      <a class="address" href="#"
                        ><span class="picon"
                          ><i class="fas fa-map-marker"></i></span
                        >Change Password</a
                      >
                    </li>
                    <li>
                      <a class="settings" href="help.html"
                        ><span class="picon"><i class="fas fa-cog"></i></span
                        >Help</a
                      >
                    </li>
                    <li>
                      <a class="logout" href="index.html"
                        ><span class="picon"
                          ><i class="fas fa-sign-out-alt"></i></span
                        >Logout</a
                      >
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="passwordContainer">
        <div>
          <h2>Change Password</h2>
          <div id="container1">
            <hr style="margin-top: 10px; width:100%" />
            <h2 style="margin-top: 30px">Personal Details</h2>
            <form action="" class="passwordform">
              <div class="form-field">
                <div class="row">
                    <div class="col-1">
                      <label>Name: Kuenzang Rada</label>
                    </div>
                    <!-- <div class="col-2">
                      <input type="text" id="id" name="stdid" placeholder="Name" />
                      <small></small>
                    </div> -->
                  </div>
                
                <div class="row">
                    <div class="col-1">
                      <label>ID: 1220047</label>
                    </div>
                    <!-- <div class="col-2">
                      <input type="text" id="id" name="stdid" placeholder="ID" />
                      <small></small>
      
                    </div> -->
                  </div>
                  <div class="row" style="margin-top: 10px;">
                    <div class="col-1">
                      <label>Old Password: </label>
                    </div>
                    <div class="col-2">
                      <input
                        type="password"
                        id="Oldpassword"
                        name="Oldpassword"
                        placeholder="Old Password"
                        required
                      />
                      <small></small>
      
                    </div>
                  </div>
          
                  <div class="row">
                    <div class="col-1">
                      <label>New Password: </label>
                    </div>
                    <div class="col-2">
                      <input
                        type="password"
                        id="password"
                        name="Newpassword"
                        placeholder="New Password"
                      />
                      <small></small>
      
                    </div>
                  </div>
          
                  <div class="row">
                    <div class="col-1">
                      <label>Repeat the Password: </label>
                    </div>
                    <div class="col-2">
                      <input
                        type="password"
                        id="confirmPassword"
                        name="PasswordConfirmation"
                        placeholder="Repeat the Password: "
                      />
                      <small></small>
                    </div>
                  </div>
                  <div class="row form-action-buttons" >
                    <input type="submit" value="Change">
                </div>
            </form>
          </div>
        </div>
      </div>
    </section>
    <script>
      let arrow = document.querySelectorAll(".arrow");
      for (var i = 0; i < arrow.length; i++) {
        arrow[i].addEventListener("click", (e) => {
          let arrowParent = e.target.parentElement.parentElement; //selecting main parent of arrow
          arrowParent.classList.toggle("showMenu");
        });
      }
      let sidebar = document.querySelector(".sidebar");
      let sidebarBtn = document.querySelector(".bx-menu");
      console.log(sidebarBtn);
      sidebarBtn.addEventListener("click", () => {
        sidebar.classList.toggle("close");
      });
    </script>
    <script src="changepassword.js"></script>
    <script>
      //getting the element from the html file
const passwordE1 = document.querySelector("#password");
const confirmPasswordE1 = document.querySelector("#confirmPassword");
const form = document.querySelector("#container1");

form.addEventListener("submit", function (e) {
  let isPasswordValid = checkPassword(),
    isconfirmPassword = checkConfirmPassword();
  let isFormValid = isPasswordValid && isconfirmPassword; //submit to server if the form is valid
  if (isFormValid) {
    confirm("Is the given information correct."); //to get final confirmation or to reset the data if the information is wrong.
    return true;
  } else {
    e.preventDefault(); //prevent the form from submitting
  }
});

//function to validate the checkPassword
const checkPassword = () => {
  let valid = false;
  const min = 8,
    max = 25;
  const password = passwordE1.value.trim(); //trim is going to remove the space before and after the text and give text only
  //calling the showerror function with two arguments

  if (!isRequired(password)) {
    showError(passwordE1, "Password cannot be blank.");
  } else if (!isBetween(password.length, min, max)) {
    showError(
      passwordE1,
      `Password must be between ${min} to ${max} characters.`
    );
  } else if (!isPasswordSecured(password)) {
    showError(passwordE1, "Password is not valid!");
  }
  //calling the showsuccess function with two arguments
  else {
    showSuccess(passwordE1);
    valid = true;
  }
  return valid;
};

const isPasswordSecured = (password) => {
  const re = new RegExp(
    "^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})"
  );
  return re.test(password);
};

function checkConfirmPassword() {
  let valid = false;
  const passwordCheck = confirmPasswordE1.value.trim();
  if (!isRequired(passwordCheck)) {
    showError(confirmPasswordE1, "You will have to confirm to proceed");
  } else if (!passwordMatch()) {
    showError(confirmPasswordE1, "Password is not matching");
  } else {
    showSuccess(confirmPasswordE1);
    valid = true;
  }
  return valid;
}
const passwordMatch = () => {
  if (passwordE1.value == confirmPasswordE1.value) {
    return true;
  }
};

//reusable code
//Function to check whether the input section is empty or not
const isRequired = (value) => (value === "" ? false : true);
//Function to check the length of the the character in the input section
const isBetween = (length, min, max) =>
  length < min || length > max ? false : true;

//reusable code
//Regulating the css classes according to the validation
const showError = (input, message) => {
  //get the form field element
  const formField = input.parentElement;
  //add the error class
  formField.classList.remove("success");
  formField.classList.add("error");
  //show the error message
  const error = formField.querySelector("small");
  error.textContent = message;
};

const showSuccess = (input) => {
  //get the form field element
  const formField = input.parentElement;
  //remove the error class
  formField.classList.remove("error");
  formField.classList.add("success");
  //hide the error message
  const error = formField.querySelector("small");
  error.textContent = "";
};
    </script>
  </body>
</html>
